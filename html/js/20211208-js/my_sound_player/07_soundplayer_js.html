<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="main.css">
    <script src="myjq.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded',
            function () {
                const sounds = document.querySelectorAll('audio')
                const pads = document.querySelectorAll('.pads div')
                const visual = document.querySelector('.visual')
                const title = document.querySelector('.title')
                const colors = ['red', 'orange', 'yellow', 'green', 'skyblue', 'slateblue']

                sounds.foreach(function (soundFile,index) {
                    soundFile.onended = function () {
                        visual.innerHTML('')
                        title.innerHTML('')
                    }
                })
                pads.foreach(function (pad, index) {
                    pad.addEventListener('click', function () {
                        sounds.foreach(function (soundFile, index) {
                            soundFile.pause()
                        })
                        //내가 클릭한 부분의 사운드
                        //ex)가장 첫번째거 클릭하면 1.mp3 재생
                        if (sounds[index]) {
                            sounds[index].currentTime = 0
                            sounds[index].play()
                            const strArray = sounds[index].src.split("sound/")
                            title.innerHTML(strArray[1])
                        }
                        createBubbles(index)
                    });

                })

                const createBubbles = function (index) {
                    visual.innerHTML('')
                    const bubble = document.querySelector('<div><dir/>')
                    visual.append(bubble)
                    bubble.addEventListener = `${colors[index]}`
                    css('top', '300px').
                    css('animation', 'animation 2000ms linear infinite both')
                }
            }
        )
    </script>
</head>

<body>
    <div class="app">

        <div id="header">
            <h1>음악 재생 플레이어</h1>
            <p>음악은 국가에서 허락한 유일한 마약이다.</p>
        </div>

        <div class="visual"></div>

        <p class="title"></p>

        <div class="pads">
            <!-- div.pad$*6 -->
            <div class="pad1">
                <audio src="sound/1.mp3"></audio>
            </div>
            <div class="pad2">
                <audio src="sound/2.mp3"></audio>
            </div>
            <div class="pad3">
                <audio src="sound/3.mp3"></audio>
            </div>
            <div class="pad4">
                <audio src="sound/4.mp3"></audio>
            </div>
            <div class="pad5">
                <audio src="sound/5.mp3"></audio>
            </div>
            <div class="pad6">
                <audio src="sound/6.mp3"></audio>
            </div>
        </div>
    </div>
    
</body>

</html>